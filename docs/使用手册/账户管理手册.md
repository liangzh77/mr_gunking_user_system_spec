# MRæ¸¸æˆè¿è¥ç®¡ç†ç³»ç»Ÿ - è´¦æˆ·ç®¡ç†æ‰‹å†Œ

## ğŸ“‹ ç›®å½•

- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [ç®¡ç†å‘˜è´¦æˆ·ç®¡ç†](#ç®¡ç†å‘˜è´¦æˆ·ç®¡ç†)
- [è´¢åŠ¡è´¦æˆ·ç®¡ç†](#è´¢åŠ¡è´¦æˆ·ç®¡ç†)
- [æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·](#æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·)
- [å®‰å…¨æœ€ä½³å®è·µ](#å®‰å…¨æœ€ä½³å®è·µ)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [æ•…éšœæ’æŸ¥](#æ•…éšœæ’æŸ¥)

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®æ¡ä»¶

- æœåŠ¡å™¨å·²éƒ¨ç½²å¹¶è¿è¡Œ
- èƒ½å¤Ÿé€šè¿‡ SSH è®¿é—®æœåŠ¡å™¨
- Docker å®¹å™¨æ­£åœ¨è¿è¡Œ

### åŸºæœ¬å‘½ä»¤æ ¼å¼

æ‰€æœ‰è´¦æˆ·ç®¡ç†è„šæœ¬éƒ½åœ¨ backend å®¹å™¨ä¸­æ‰§è¡Œï¼š

```bash
docker exec mr_game_ops_backend_prod python /app/scripts/<è„šæœ¬å>.py [å‚æ•°]
```

---

## ğŸ‘¨â€ğŸ’¼ ç®¡ç†å‘˜è´¦æˆ·ç®¡ç†

### 1. é¦–æ¬¡åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·ï¼ˆä»…é¦–æ¬¡éƒ¨ç½²ï¼‰

**è„šæœ¬**: `create_admin_simple.py`

```bash
docker exec mr_game_ops_backend_prod python /app/scripts/create_admin_simple.py
```

**é»˜è®¤å‡­æ®**ï¼š
- ç”¨æˆ·å: `admin`
- å¯†ç : `admin123`
- è§’è‰²: `super_admin`
- æƒé™: æ‰€æœ‰æƒé™

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
ç®¡ç†å‘˜è´¦å·åˆ›å»ºæˆåŠŸï¼
ç”¨æˆ·å: admin
å¯†ç : admin123
è§’è‰²: super_admin
```

**âš ï¸ é‡è¦**: é¦–æ¬¡éƒ¨ç½²åå¿…é¡»ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç ï¼

---

### 2. ä¿®æ”¹ç®¡ç†å‘˜å¯†ç 

**è„šæœ¬**: `change_password.py`

#### åŸºæœ¬ç”¨æ³•

```bash
docker exec mr_game_ops_backend_prod python /app/scripts/change_password.py <ç”¨æˆ·å> <æ–°å¯†ç >
```

#### å®é™…ç¤ºä¾‹

```bash
# ä¿®æ”¹ admin çš„å¯†ç ä¸º MySecurePass2024!
docker exec mr_game_ops_backend_prod python /app/scripts/change_password.py admin MySecurePass2024!
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
å¯†ç ä¿®æ”¹æˆåŠŸï¼
ç”¨æˆ·å: admin
æ–°å¯†ç : MySecurePass2024!
```

#### å¯†ç è¦æ±‚å»ºè®®

- âœ… è‡³å°‘ 12 ä¸ªå­—ç¬¦
- âœ… åŒ…å«å¤§å†™å­—æ¯ (A-Z)
- âœ… åŒ…å«å°å†™å­—æ¯ (a-z)
- âœ… åŒ…å«æ•°å­— (0-9)
- âœ… åŒ…å«ç‰¹æ®Šå­—ç¬¦ (!@#$%^&*)
- âŒ ä¸è¦ä½¿ç”¨å¸¸è§å•è¯ã€ç”Ÿæ—¥ã€å…¬å¸åç§°

**å¼ºå¯†ç ç¤ºä¾‹**ï¼š
- `Admin@2024!Secure`
- `MyP@ssw0rd2024#`
- `Secure!Game2024$`

---

## ğŸ’° è´¢åŠ¡è´¦æˆ·ç®¡ç†

### 1. åˆ›å»ºè´¢åŠ¡ç”¨æˆ·

**è„šæœ¬**: `manage_finance_user.py`

#### åŸºæœ¬ç”¨æ³•

```bash
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py create <ç”¨æˆ·å> <å¯†ç > <å§“å> [é‚®ç®±] [æ‰‹æœº]
```

#### å®é™…ç¤ºä¾‹

**ç¤ºä¾‹ 1ï¼šå®Œæ•´å‚æ•°**
```bash
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py create finance001 Finance@2024! å¼ è´¢åŠ¡ zhang@company.com 13800138001
```

**ç¤ºä¾‹ 2ï¼šæœ€å°‘å‚æ•°ï¼ˆé‚®ç®±å’Œæ‰‹æœºä½¿ç”¨é»˜è®¤å€¼ï¼‰**
```bash
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py create finance001 Finance@2024! å¼ è´¢åŠ¡
```

**ç¤ºä¾‹ 3ï¼šåˆ›å»ºå¤šä¸ªè´¢åŠ¡ç”¨æˆ·**
```bash
# è´¢åŠ¡ä¸»ç®¡
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py create finance_manager FinMgr@2024! æä¸»ç®¡ li@company.com 13800138002

# è´¢åŠ¡ä¸“å‘˜
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py create finance_staff1 FinStaff@2024! ç‹ä¸“å‘˜ wang@company.com 13800138003

# è´¢åŠ¡å®¡è®¡
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py create finance_audit Audit@2024! èµµå®¡è®¡ zhao@company.com 13800138004
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
è´¢åŠ¡ç”¨æˆ·åˆ›å»ºæˆåŠŸï¼
ç”¨æˆ·å: finance001
å¯†ç : Finance@2024!
å§“å: å¼ è´¢åŠ¡
è§’è‰²: financeï¼ˆè´¢åŠ¡ï¼‰
æƒé™: finance:read, finance:recharge, finance:refund, invoice:read, invoice:create, statistics:read
```

#### è´¢åŠ¡è§’è‰²æƒé™è¯´æ˜

| æƒé™ | è¯´æ˜ |
|------|------|
| `finance:read` | æŸ¥çœ‹è´¢åŠ¡ä¿¡æ¯ã€è´¦æˆ·ä½™é¢ |
| `finance:recharge` | ä¸ºç”¨æˆ·å……å€¼ |
| `finance:refund` | å¤„ç†é€€æ¬¾ç”³è¯· |
| `invoice:read` | æŸ¥çœ‹å‘ç¥¨è®°å½• |
| `invoice:create` | åˆ›å»ºå’Œå¼€å…·å‘ç¥¨ |
| `statistics:read` | æŸ¥çœ‹è´¢åŠ¡ç»Ÿè®¡æŠ¥è¡¨ |

**è´¢åŠ¡ç”¨æˆ·ä¸èƒ½**ï¼š
- âŒ åˆ›å»º/åˆ é™¤å…¶ä»–ç®¡ç†å‘˜
- âŒ ä¿®æ”¹ç³»ç»Ÿé…ç½®
- âŒ è®¿é—®æŠ€æœ¯æ—¥å¿—
- âŒ ç®¡ç†æ“ä½œå‘˜è´¦å·ï¼ˆéè´¢åŠ¡èŒƒå›´ï¼‰

---

### 2. ä¿®æ”¹è´¢åŠ¡ç”¨æˆ·å¯†ç 

#### åŸºæœ¬ç”¨æ³•

```bash
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py password <ç”¨æˆ·å> <æ–°å¯†ç >
```

#### å®é™…ç¤ºä¾‹

```bash
# ä¿®æ”¹ finance001 çš„å¯†ç 
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py password finance001 NewFinPass2024!

# ä¿®æ”¹è´¢åŠ¡ä¸»ç®¡çš„å¯†ç 
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py password finance_manager NewMgrPass2024!
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
å¯†ç ä¿®æ”¹æˆåŠŸï¼
ç”¨æˆ·å: finance001
æ–°å¯†ç : NewFinPass2024!
```

---

## ğŸ‘¥ æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·

### åˆ—å‡ºæ‰€æœ‰è´¦æˆ·

**è„šæœ¬**: `manage_finance_user.py`

```bash
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py list
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
å½“å‰ç”¨æˆ·åˆ—è¡¨ï¼š
----------------------------------------------------------------------------------------------------
ç”¨æˆ·å           å§“å            è§’è‰²            é‚®ç®±                      çŠ¶æ€     åˆ›å»ºæ—¶é—´
----------------------------------------------------------------------------------------------------
admin           ç³»ç»Ÿç®¡ç†å‘˜       super_admin     admin@mrgameops.com       æ¿€æ´»     2025-10-24 07:55:34
finance_manager æä¸»ç®¡          finance         li@company.com            æ¿€æ´»     2025-10-24 12:15:20
finance001      å¼ è´¢åŠ¡          finance         zhang@company.com         æ¿€æ´»     2025-10-24 12:30:45
finance_staff1  ç‹ä¸“å‘˜          finance         wang@company.com          æ¿€æ´»     2025-10-24 12:45:10
----------------------------------------------------------------------------------------------------
æ€»è®¡: 4 ä¸ªç”¨æˆ·
```

---

## ğŸ”’ å®‰å…¨æœ€ä½³å®è·µ

### 1. å¯†ç ç®¡ç†

#### âœ… æ¨èåšæ³•

- é¦–æ¬¡éƒ¨ç½²å**ç«‹å³**ä¿®æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç 
- ä½¿ç”¨å¼ºå¯†ç ï¼ˆ12+ å­—ç¬¦ï¼Œå¤§å°å†™+æ•°å­—+ç¬¦å·ï¼‰
- å®šæœŸæ›´æ¢å¯†ç ï¼ˆå»ºè®®æ¯ 3-6 ä¸ªæœˆï¼‰
- ä¸åŒè´¦æˆ·ä½¿ç”¨ä¸åŒå¯†ç 
- ä½¿ç”¨å¯†ç ç®¡ç†å™¨ä¿å­˜å¯†ç 

#### âŒ é¿å…åšæ³•

- ä¸è¦ä½¿ç”¨ `admin123`ã€`password`ã€`123456` ç­‰å¼±å¯†ç 
- ä¸è¦ä½¿ç”¨ç”Ÿæ—¥ã€å§“åæ‹¼éŸ³ç­‰å¯é¢„æµ‹å¯†ç 
- ä¸è¦åœ¨å¤šä¸ªç³»ç»Ÿä½¿ç”¨ç›¸åŒå¯†ç 
- ä¸è¦å°†å¯†ç å†™åœ¨è®°äº‹æœ¬æˆ–é‚®ä»¶ä¸­
- ä¸è¦ä¸ä»–äººå…±äº«è´¦å·

### 2. è´¦æˆ·ç®¡ç†

#### âœ… æ¨èåšæ³•

```bash
# 1. é¦–æ¬¡éƒ¨ç½²åç«‹å³ä¿®æ”¹ç®¡ç†å‘˜å¯†ç 
docker exec mr_game_ops_backend_prod python /app/scripts/change_password.py admin YourStrongPassword2024!

# 2. ä¸ºæ¯ä¸ªè´¢åŠ¡äººå‘˜åˆ›å»ºç‹¬ç«‹è´¦å·
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py create finance_zhang FinZhang@2024! å¼ ä¸‰
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py create finance_li FinLi@2024! æå››

# 3. å®šæœŸæ£€æŸ¥ç”¨æˆ·åˆ—è¡¨
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py list

# 4. å‘˜å·¥ç¦»èŒåç«‹å³ä¿®æ”¹æˆ–ç¦ç”¨å…¶è´¦å·
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py password finance_zhang DisabledAccount@999!
```

#### âŒ é¿å…åšæ³•

- ä¸è¦å¤šäººå…±ç”¨ä¸€ä¸ªè´¦å·
- ä¸è¦é•¿æœŸä½¿ç”¨é»˜è®¤å¯†ç 
- ä¸è¦å¿˜è®°æ¸…ç†ç¦»èŒå‘˜å·¥è´¦å·
- ä¸è¦åœ¨å…¬å…±åœºæ‰€ç™»å½•

### 3. ç™»å½•å®‰å…¨

- ä»…åœ¨å®‰å…¨ç½‘ç»œç¯å¢ƒä¸‹ç™»å½•
- ä½¿ç”¨å®Œæ¯•ååŠæ—¶é€€å‡ºç™»å½•
- ä¸è¦åœ¨å…¬å…±ç”µè„‘ä¸Šä¿å­˜å¯†ç 
- å®šæœŸæ£€æŸ¥ç™»å½•æ—¥å¿—

### 4. æœåŠ¡å™¨è®¿é—®å®‰å…¨

```bash
# 1. ä»…å…è®¸ç‰¹å®šIPè®¿é—®æœåŠ¡å™¨ï¼ˆåœ¨æœåŠ¡å™¨é˜²ç«å¢™é…ç½®ï¼‰
# ä¾‹å¦‚ï¼šåªå…è®¸å…¬å¸åŠå…¬ç½‘ç»œè®¿é—®

# 2. ä½¿ç”¨SSHå¯†é’¥è€Œä¸æ˜¯å¯†ç ç™»å½•æœåŠ¡å™¨

# 3. å®šæœŸæ›´æ–°ç³»ç»Ÿå’ŒDockeré•œåƒ
docker compose -f docker-compose.prod.yml pull
docker compose -f docker-compose.prod.yml up -d
```

---

## ğŸ“ å®Œæ•´æ“ä½œæµç¨‹ç¤ºä¾‹

### åœºæ™¯ 1ï¼šæ–°ç³»ç»Ÿéƒ¨ç½²åçš„åˆå§‹åŒ–

```bash
# æ­¥éª¤ 1ï¼šç³»ç»Ÿå·²éƒ¨ç½²ï¼Œåˆ›å»ºç®¡ç†å‘˜
docker exec mr_game_ops_backend_prod python /app/scripts/create_admin_simple.py

# æ­¥éª¤ 2ï¼šç«‹å³ä¿®æ”¹ç®¡ç†å‘˜å¯†ç 
docker exec mr_game_ops_backend_prod python /app/scripts/change_password.py admin Admin@Secure2024!

# æ­¥éª¤ 3ï¼šåˆ›å»ºè´¢åŠ¡ä¸»ç®¡è´¦å·
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py create finance_manager FinMgr@2024! è´¢åŠ¡ä¸»ç®¡ manager@company.com 13800138000

# æ­¥éª¤ 4ï¼šåˆ›å»ºè´¢åŠ¡ä¸“å‘˜è´¦å·
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py create finance_staff FinStaff@2024! è´¢åŠ¡ä¸“å‘˜ staff@company.com 13800138001

# æ­¥éª¤ 5ï¼šéªŒè¯æ‰€æœ‰è´¦å·å·²åˆ›å»º
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py list
```

### åœºæ™¯ 2ï¼šæ–°å‘˜å·¥å…¥èŒ

```bash
# åˆ›å»ºæ–°è´¢åŠ¡å‘˜å·¥è´¦å·
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py create finance_newuser FinNew@2024! æ–°å‘˜å·¥å§“å new@company.com 13800138888

# éªŒè¯è´¦å·åˆ›å»ºæˆåŠŸ
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py list

# å°†ç”¨æˆ·åå’Œåˆå§‹å¯†ç å‘ŠçŸ¥æ–°å‘˜å·¥ï¼Œè¦æ±‚é¦–æ¬¡ç™»å½•åä¿®æ”¹å¯†ç 
```

### åœºæ™¯ 3ï¼šå‘˜å·¥ç¦»èŒ

```bash
# æ–¹æ³• 1ï¼šä¿®æ”¹å¯†ç ä»¥ç¦ç”¨è´¦å·ï¼ˆæ¨èï¼‰
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py password finance_olduser DisabledAccount@999!

# æ–¹æ³• 2ï¼šåœ¨æ•°æ®åº“ä¸­æ ‡è®°ä¸ºç¦ç”¨ï¼ˆéœ€è¦è¿æ¥æ•°æ®åº“æ“ä½œï¼Œæš‚ä¸æ¨èï¼‰

# éªŒè¯ç”¨æˆ·åˆ—è¡¨
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py list
```

### åœºæ™¯ 4ï¼šå®šæœŸå¯†ç æ›´æ¢

```bash
# æ¯å­£åº¦æ›´æ¢ä¸€æ¬¡ç®¡ç†å‘˜å¯†ç 
docker exec mr_game_ops_backend_prod python /app/scripts/change_password.py admin NewAdminPass_Q1_2024!

# è¦æ±‚æ‰€æœ‰è´¢åŠ¡äººå‘˜æ›´æ¢å¯†ç 
# æ–¹æ³• 1ï¼šç”±ç®¡ç†å‘˜ç»Ÿä¸€æ›´æ¢åé€šçŸ¥å‘˜å·¥
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py password finance001 NewPass_Q1_2024!

# æ–¹æ³• 2ï¼šå‘˜å·¥è‡ªè¡Œåœ¨ç³»ç»Ÿä¸­ä¿®æ”¹ï¼ˆç™»å½•åä»ä¸ªäººä¸­å¿ƒä¿®æ”¹ï¼‰
```

### åœºæ™¯ 5ï¼šå¿˜è®°å¯†ç 

```bash
# ç®¡ç†å‘˜é‡ç½®ç”¨æˆ·å¯†ç 
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py password <å¿˜è®°å¯†ç çš„ç”¨æˆ·å> TemporaryPass@2024!

# å‘ŠçŸ¥ç”¨æˆ·ä¸´æ—¶å¯†ç ï¼Œè¦æ±‚ç«‹å³ç™»å½•å¹¶ä¿®æ”¹
```

---

## â“ å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•ç¡®è®¤è„šæœ¬æ–‡ä»¶å·²ç»åœ¨å®¹å™¨ä¸­ï¼Ÿ

```bash
# æŸ¥çœ‹å®¹å™¨ä¸­çš„ scripts ç›®å½•
docker exec mr_game_ops_backend_prod ls -la /app/scripts/

# åº”è¯¥çœ‹åˆ°ä»¥ä¸‹æ–‡ä»¶ï¼š
# create_admin_simple.py
# create_admin.py
# change_password.py
# manage_finance_user.py
# README.md
```

### Q2: å¦‚æœè„šæœ¬ä¸åœ¨å®¹å™¨ä¸­æ€ä¹ˆåŠï¼Ÿ

```bash
# æ–¹æ³• 1ï¼šä»æœåŠ¡å™¨æ‹·è´åˆ°å®¹å™¨ï¼ˆå¿«é€Ÿï¼‰
cd /opt/mr_gunking_user_system_spec
docker cp backend/scripts mr_game_ops_backend_prod:/app/

# æ–¹æ³• 2ï¼šé‡æ–°æ„å»ºé•œåƒï¼ˆå½»åº•ï¼‰
docker compose -f docker-compose.prod.yml build backend
docker compose -f docker-compose.prod.yml up -d backend
```

### Q3: åˆ›å»ºç”¨æˆ·æ—¶æç¤º"ç”¨æˆ·å·²å­˜åœ¨"æ€ä¹ˆåŠï¼Ÿ

```bash
# æ–¹æ³• 1ï¼šæ¢ä¸€ä¸ªç”¨æˆ·å
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py create finance002 Pass@2024! å¼ è´¢åŠ¡

# æ–¹æ³• 2ï¼šå¦‚æœç¡®å®è¦ä½¿ç”¨è¯¥ç”¨æˆ·åï¼Œå…ˆä¿®æ”¹ç°æœ‰ç”¨æˆ·å¯†ç 
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py password finance001 NewPass@2024!
```

### Q4: å¦‚ä½•æ‰¹é‡åˆ›å»ºå¤šä¸ªè´¦å·ï¼Ÿ

```bash
# åˆ›å»ºä¸€ä¸ª shell è„šæœ¬
cat > create_finance_users.sh << 'EOF'
#!/bin/bash
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py create finance001 Fin001@2024! å¼ ä¸‰
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py create finance002 Fin002@2024! æå››
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py create finance003 Fin003@2024! ç‹äº”
EOF

# æ‰§è¡Œè„šæœ¬
chmod +x create_finance_users.sh
./create_finance_users.sh
```

### Q5: å¦‚ä½•éªŒè¯å¯†ç ä¿®æ”¹æˆåŠŸï¼Ÿ

```bash
# æ–¹æ³• 1ï¼šå°è¯•åœ¨æµè§ˆå™¨ç™»å½•
# è®¿é—® http://your-server-ip/
# ä½¿ç”¨æ–°å¯†ç ç™»å½•

# æ–¹æ³• 2ï¼šæŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨ï¼ˆç¡®è®¤ç”¨æˆ·å­˜åœ¨ï¼‰
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py list
```

### Q6: å¦‚ä½•æŸ¥çœ‹æŸä¸ªç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ï¼Ÿ

```bash
# ç›®å‰åªèƒ½æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·åˆ—è¡¨
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py list

# æˆ–è€…ä½¿ç”¨ grep è¿‡æ»¤
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py list | grep finance001
```

### Q7: å¯†ç å¯ä»¥åŒ…å«ä¸­æ–‡å—ï¼Ÿ

**ä¸æ¨è**ä½¿ç”¨ä¸­æ–‡å¯†ç ï¼Œå› ä¸ºï¼š
- å¯èƒ½å¯¼è‡´ç¼–ç é—®é¢˜
- åœ¨æŸäº›ç»ˆç«¯ç¯å¢ƒä¸‹è¾“å…¥å›°éš¾
- å»ºè®®ä½¿ç”¨è‹±æ–‡ã€æ•°å­—å’Œç¬¦å·ç»„åˆ

### Q8: å¯ä»¥åˆ›å»ºå…¶ä»–è§’è‰²çš„è´¦å·å—ï¼ˆå¦‚è¿è¥ã€å®¢æœï¼‰ï¼Ÿ

ç›®å‰è„šæœ¬åªæ”¯æŒï¼š
- `super_admin` - è¶…çº§ç®¡ç†å‘˜ï¼ˆé€šè¿‡ create_admin_simple.pyï¼‰
- `finance` - è´¢åŠ¡è§’è‰²ï¼ˆé€šè¿‡ manage_finance_user.pyï¼‰

å¦‚éœ€åˆ›å»ºå…¶ä»–è§’è‰²ï¼Œéœ€è¦ï¼š
1. ä¿®æ”¹è„šæœ¬æ·»åŠ æ–°è§’è‰²
2. æˆ–ç›´æ¥åœ¨ç³»ç»Ÿåå°ç•Œé¢ä¸­åˆ›å»ºï¼ˆå¦‚æœç³»ç»Ÿæä¾›è¯¥åŠŸèƒ½ï¼‰

---

## ğŸ”§ æ•…éšœæ’æŸ¥

### é”™è¯¯ 1: `ModuleNotFoundError: No module named 'src'`

**åŸå› **: è„šæœ¬è·¯å¾„é…ç½®é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. ç¡®ä¿ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„è„šæœ¬
cd /opt/mr_gunking_user_system_spec
git pull origin 001-mr

# 2. é‡æ–°æ‹·è´è„šæœ¬åˆ°å®¹å™¨
docker cp backend/scripts mr_game_ops_backend_prod:/app/

# 3. é‡è¯•
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py list
```

### é”™è¯¯ 2: `can't open file '/app/scripts/xxx.py': No such file or directory`

**åŸå› **: è„šæœ¬æ–‡ä»¶ä¸åœ¨å®¹å™¨ä¸­

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ‹·è´è„šæœ¬åˆ°å®¹å™¨
docker cp backend/scripts mr_game_ops_backend_prod:/app/

# éªŒè¯æ–‡ä»¶å­˜åœ¨
docker exec mr_game_ops_backend_prod ls -la /app/scripts/
```

### é”™è¯¯ 3: æ•°æ®åº“è¿æ¥å¤±è´¥

**åŸå› **: æ•°æ®åº“æœªå¯åŠ¨æˆ–å¯†ç ä¸æ­£ç¡®

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. æ£€æŸ¥æ•°æ®åº“å®¹å™¨çŠ¶æ€
docker compose -f docker-compose.prod.yml ps

# 2. ç¡®è®¤ postgres å®¹å™¨çŠ¶æ€ä¸º healthy

# 3. å¦‚æœæ•°æ®åº“å¯†ç å·²ä¿®æ”¹ï¼Œéœ€è¦æ›´æ–°è„šæœ¬ä¸­çš„è¿æ¥å­—ç¬¦ä¸²
# ç¼–è¾‘è„šæœ¬æ–‡ä»¶ï¼Œä¿®æ”¹ db_url
```

### é”™è¯¯ 4: å¯†ç éªŒè¯å¤±è´¥ï¼ˆç™»å½•æ—¶ï¼‰

**å¯èƒ½åŸå› **:
1. å¯†ç è¾“å…¥é”™è¯¯ï¼ˆæ£€æŸ¥å¤§å°å†™ã€ç©ºæ ¼ï¼‰
2. ä½¿ç”¨äº†æ—§å¯†ç 
3. è´¦å·è¢«ç¦ç”¨

**è§£å†³æ–¹æ¡ˆ**:
```bash
# é‡ç½®å¯†ç 
docker exec mr_game_ops_backend_prod python /app/scripts/change_password.py <ç”¨æˆ·å> NewPassword@2024!
```

### é”™è¯¯ 5: å®¹å™¨æœªè¿è¡Œ

**è§£å†³æ–¹æ¡ˆ**:
```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
cd /opt/mr_gunking_user_system_spec
docker compose -f docker-compose.prod.yml up -d

# ç­‰å¾…æœåŠ¡å¯åŠ¨
sleep 30

# æ£€æŸ¥çŠ¶æ€
docker compose -f docker-compose.prod.yml ps
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°æœ¬æ–‡æ¡£æœªæ¶µç›–çš„é—®é¢˜ï¼Œè¯·ï¼š

1. æ£€æŸ¥ç³»ç»Ÿæ—¥å¿—ï¼š
   ```bash
   docker logs mr_game_ops_backend_prod --tail 100
   ```

2. æ£€æŸ¥æœåŠ¡çŠ¶æ€ï¼š
   ```bash
   docker compose -f docker-compose.prod.yml ps
   ```

3. æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£ï¼š
   ```bash
   cat /opt/mr_gunking_user_system_spec/backend/scripts/README.md
   ```

---

## ğŸ“š é™„å½•

### å¿«é€Ÿå‘½ä»¤å‚è€ƒ

```bash
# === æŸ¥çœ‹å¸®åŠ© ===
cat /opt/mr_gunking_user_system_spec/backend/scripts/README.md

# === ç®¡ç†å‘˜æ“ä½œ ===
# åˆ›å»ºç®¡ç†å‘˜
docker exec mr_game_ops_backend_prod python /app/scripts/create_admin_simple.py

# ä¿®æ”¹å¯†ç 
docker exec mr_game_ops_backend_prod python /app/scripts/change_password.py <ç”¨æˆ·å> <æ–°å¯†ç >

# === è´¢åŠ¡ç”¨æˆ·æ“ä½œ ===
# åˆ›å»ºè´¢åŠ¡ç”¨æˆ·
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py create <ç”¨æˆ·å> <å¯†ç > <å§“å>

# ä¿®æ”¹è´¢åŠ¡ç”¨æˆ·å¯†ç 
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py password <ç”¨æˆ·å> <æ–°å¯†ç >

# æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·
docker exec mr_game_ops_backend_prod python /app/scripts/manage_finance_user.py list

# === ç³»ç»Ÿç»´æŠ¤ ===
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker compose -f docker-compose.prod.yml ps

# æŸ¥çœ‹æ—¥å¿—
docker logs mr_game_ops_backend_prod

# é‡å¯æœåŠ¡
docker compose -f docker-compose.prod.yml restart backend
```

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**æœ€åæ›´æ–°**: 2025-10-24
**é€‚ç”¨ç³»ç»Ÿç‰ˆæœ¬**: MRæ¸¸æˆè¿è¥ç®¡ç†ç³»ç»Ÿ v1.0
