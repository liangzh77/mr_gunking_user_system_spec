# üöÄ MRÊ∏∏ÊàèËøêËê•ÁÆ°ÁêÜÁ≥ªÁªü - ‰∏ÄÈîÆÈÉ®ÁΩ≤ÊåáÂçó

> **ÈÄÇÁî®Âú∫ÊôØ**: Áîü‰∫ßÊúçÂä°Âô®ÁΩëÁªúÂèóÈôêÔºåÈúÄË¶ÅÁ¶ªÁ∫øÈÉ®ÁΩ≤
> **‰ºòÂäø**: ÂÖ®Ëá™Âä®ÂåñÔºå‰∏Ä‰∏™ËÑöÊú¨ÊêûÂÆöÊâÄÊúâÊ≠•È™§

---

## üìã ÈÉ®ÁΩ≤ÊµÅÁ®ãÊÄªËßà

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        Windows ÁîµËÑë                              ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  Ê≠•È™§1: ‰∏ãËΩΩDockerÈïúÂÉè ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ C:\docker-images\*.tar          ‚îÇ
‚îÇ         (download-images-simple.bat)                            ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  Ê≠•È™§2: ‰∏ä‰º†Âà∞ÊúçÂä°Âô® ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ windows-‰∏ä‰º†Âà∞ÊúçÂä°Âô®.bat        ‚îÇ
‚îÇ         ‚Ä¢ ‰∏ä‰º†ÈïúÂÉèÊñá‰ª∂                                           ‚îÇ
‚îÇ         ‚Ä¢ ‰∏ä‰º†È°πÁõÆ‰ª£Á†Å                                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                               ‚îÇ
                               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        Linux ÊúçÂä°Âô®                              ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  Ê≠•È™§3: ‰∏ÄÈîÆÈÉ®ÁΩ≤ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ bash ‰∏ÄÈîÆÈÉ®ÁΩ≤ËÑöÊú¨-ÊúçÂä°Âô®Á´Ø.sh   ‚îÇ
‚îÇ         Ëá™Âä®ÂÆåÊàê:                                                ‚îÇ
‚îÇ         ‚úì ÂØºÂÖ•ÈïúÂÉè                                               ‚îÇ
‚îÇ         ‚úì ÂàõÂª∫ÁõÆÂΩï                                               ‚îÇ
‚îÇ         ‚úì Â§çÂà∂Êñá‰ª∂                                               ‚îÇ
‚îÇ         ‚úì ÊûÑÂª∫Â∫îÁî®                                               ‚îÇ
‚îÇ         ‚úì ÂêØÂä®ÊúçÂä°                                               ‚îÇ
‚îÇ         ‚úì ÂÅ•Â∫∑Ê£ÄÊü•                                               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## Á¨¨‰∏ÄÊ≠•: Âú®Windows‰∏ãËΩΩDockerÈïúÂÉè

### 1.1 Á°Æ‰øùDocker DesktopËøêË°å

- ÊâìÂºÄ Docker Desktop
- Á°Æ‰øùÁä∂ÊÄÅÊòæÁ§∫ "Running"

### 1.2 ËøêË°å‰∏ãËΩΩËÑöÊú¨

**ÊñπÊ≥ïA: ÂèåÂáªËøêË°å** (Êé®Ëçê)

```
ÂèåÂáªËøêË°å: deploy\download-images-simple.bat
```

**ÊñπÊ≥ïB: ÂëΩ‰ª§Ë°åËøêË°å**

```cmd
cd C:\liangz77\python_projects\github_projects\mr_gunking_user_system_spec\deploy
download-images-simple.bat
```

### 1.3 ÈÄâÊã©‰∏ãËΩΩÂÜÖÂÆπ

ËÑöÊú¨‰ºöËØ¢ÈóÆË¶Å‰∏ãËΩΩÁöÑÂÜÖÂÆπ:

- **ÈÄâÈ°π1**: ‰ªÖÊ†∏ÂøÉÈïúÂÉè (230 MB) - **Êé®ËçêÈ¶ñÊ¨°ÈÉ®ÁΩ≤**
  - Python 3.11
  - PostgreSQL 14
  - Redis 7

- **ÈÄâÈ°π2**: Ê†∏ÂøÉ + ÂâçÁ´Ø (450 MB)
  - Ê†∏ÂøÉÈïúÂÉè
  - Node 18
  - Nginx

- **ÈÄâÈ°π3**: ÂÖ®ÈÉ®Âê´ÁõëÊéß (1 GB)
  - ÊâÄÊúâ‰∏äËø∞ÈïúÂÉè
  - Prometheus
  - Grafana

### 1.4 Á≠âÂæÖ‰∏ãËΩΩÂÆåÊàê

- Êñá‰ª∂Â∞Ü‰øùÂ≠òÂú® `C:\docker-images\`
- ‰∏ãËΩΩÊó∂Èó¥ÂèñÂÜ≥‰∫éÁΩëÈÄü (Á∫¶5-15ÂàÜÈíü)

---

## Á¨¨‰∫åÊ≠•: ‰∏ä‰º†Âà∞ÊúçÂä°Âô®

### 2.1 ÂáÜÂ§áÊúçÂä°Âô®‰ø°ÊÅØ

Á°Æ‰øù‰Ω†Êúâ:
- ‚úÖ ÊúçÂä°Âô®IPÂú∞ÂùÄ
- ‚úÖ SSHÁî®Êà∑Âêç (ÈÄöÂ∏∏ÊòØ `root`)
- ‚úÖ SSHÂØÜÁ†ÅÊàñÂØÜÈí•

### 2.2 ËøêË°å‰∏ä‰º†ËÑöÊú¨

**ÂèåÂáªËøêË°å**:

```
ÂèåÂáªËøêË°å: deploy\windows-‰∏ä‰º†Âà∞ÊúçÂä°Âô®.bat
```

ËÑöÊú¨‰ºöÊèêÁ§∫ËæìÂÖ•:
1. ÊúçÂä°Âô®IPÂú∞ÂùÄ
2. SSHÁî®Êà∑Âêç (ÈªòËÆ§: root)
3. Á°ÆËÆ§‰∏ä‰º†

### 2.3 Á≠âÂæÖ‰∏ä‰º†ÂÆåÊàê

ËÑöÊú¨‰ºöËá™Âä®‰∏ä‰º†:
- ‚úÖ DockerÈïúÂÉèÊñá‰ª∂ ‚Üí `/root/docker-images/`
- ‚úÖ È°πÁõÆ‰ª£Á†Å ‚Üí `/root/mr-game-ops-upload/`

‰∏ä‰º†Êó∂Èó¥ÂèñÂÜ≥‰∫é:
- Êñá‰ª∂Â§ßÂ∞è
- ÁΩëÁªúÈÄüÂ∫¶
- ÊòØÂê¶‰ΩøÁî®ÂÜÖÁΩëËøûÊé•

**ÊèêÁ§∫**: Â¶ÇÊûú‰∏ä‰º†ÂæàÊÖ¢ÔºåÂª∫ËÆÆ‰ΩøÁî®ÂÜÖÁΩëIPÊàñÊúâÁ∫øÁΩëÁªú„ÄÇ

---

## Á¨¨‰∏âÊ≠•: Âú®ÊúçÂä°Âô®‰∏ä‰∏ÄÈîÆÈÉ®ÁΩ≤

### 3.1 SSHËøûÊé•Âà∞ÊúçÂä°Âô®

**ÊñπÊ≥ïA: ‰ΩøÁî®Windows PowerShell/CMD**

```bash
ssh root@‰Ω†ÁöÑÊúçÂä°Âô®IP
# ËæìÂÖ•ÂØÜÁ†Å
```

**ÊñπÊ≥ïB: ‰ΩøÁî®PuTTY**

1. ÊâìÂºÄPuTTY
2. ËæìÂÖ•ÊúçÂä°Âô®IP
3. ÁÇπÂáª "Open"
4. ËæìÂÖ•Áî®Êà∑ÂêçÂíåÂØÜÁ†Å

### 3.2 ÊâßË°å‰∏ÄÈîÆÈÉ®ÁΩ≤ËÑöÊú¨

ËøûÊé•Âà∞ÊúçÂä°Âô®ÂêéÔºåÊâßË°å:

```bash
bash /root/mr-game-ops-upload/deploy/‰∏ÄÈîÆÈÉ®ÁΩ≤ËÑöÊú¨-ÊúçÂä°Âô®Á´Ø.sh
```

### 3.3 Á≠âÂæÖËá™Âä®ÈÉ®ÁΩ≤

ËÑöÊú¨‰ºö**ÂÖ®Ëá™Âä®**ÂÆåÊàê‰ª•‰∏ãÊìç‰Ωú:

```
„ÄêÊ≠•È™§0/8„ÄëÁéØÂ¢ÉÊ£ÄÊü•
  ‚úì Ê£ÄÊü•DockerÊòØÂê¶ÂÆâË£Ö
  ‚úì Ê£ÄÊü•DockerÊòØÂê¶ËøêË°å
  ‚úì Ê£ÄÊü•docker-compose

„ÄêÊ≠•È™§1/8„ÄëÊ£ÄÊµãÈ°πÁõÆÊñá‰ª∂
  ‚úì È™åËØÅbackendÁõÆÂΩï
  ‚úì È™åËØÅdeployÈÖçÁΩÆ
  ‚úì Ê£ÄÊü•ÂÖ≥ÈîÆÊñá‰ª∂

„ÄêÊ≠•È™§2/8„ÄëÂØºÂÖ•DockerÈïúÂÉè
  ‚úì Ê£ÄÊµãÈïúÂÉèÊñá‰ª∂
  ‚úì ÂØºÂÖ•ÊâÄÊúâ.tarÊñá‰ª∂
  ‚úì È™åËØÅÂØºÂÖ•ÁªìÊûú

„ÄêÊ≠•È™§3/8„ÄëÂàõÂª∫Â∫îÁî®ÁõÆÂΩïÁªìÊûÑ
  ‚úì ÂàõÂª∫ /opt/mr-game-ops/
  ‚úì ÂàõÂª∫data„ÄÅlogs„ÄÅconfigÁ≠âÂ≠êÁõÆÂΩï

„ÄêÊ≠•È™§4/8„ÄëÂ§çÂà∂Â∫îÁî®Êñá‰ª∂
  ‚úì Â§çÂà∂backend‰ª£Á†Å
  ‚úì Â§çÂà∂frontend‰ª£Á†ÅÔºàÂ¶ÇÊûúÊúâÔºâ
  ‚úì Â§çÂà∂ÈÖçÁΩÆÊñá‰ª∂

„ÄêÊ≠•È™§5/8„ÄëÂáÜÂ§áDockerfile
  ‚úì ÂàõÂª∫‰ºòÂåñÁöÑBackend Dockerfile
  ‚úì ÈÖçÁΩÆÈòøÈáå‰∫ëÈïúÂÉèÊ∫êÔºàÂä†ÈÄüpipÂÆâË£ÖÔºâ

„ÄêÊ≠•È™§6/8„ÄëÂä†ËΩΩÈÖçÁΩÆÊñá‰ª∂
  ‚úì Âä†ËΩΩ.env.prod
  ‚úì È™åËØÅÊï∞ÊçÆÂ∫ìÂØÜÁ†Å
  ‚úì È™åËØÅRedisÂØÜÁ†Å
  ‚úì È™åËØÅÂä†ÂØÜÂØÜÈí•

„ÄêÊ≠•È™§7/8„ÄëÊûÑÂª∫Âπ∂ÂêØÂä®ÊúçÂä°
  ‚úì ÂÅúÊ≠¢ÊóßÂÆπÂô®
  ‚úì ÊûÑÂª∫backendÈïúÂÉè
  ‚úì ÂêØÂä®ÊâÄÊúâÊúçÂä°

„ÄêÊ≠•È™§8/8„ÄëÂÅ•Â∫∑Ê£ÄÊü•
  ‚úì Ê£ÄÊü•PostgreSQL
  ‚úì Ê£ÄÊü•Redis
  ‚úì Ê£ÄÊü•Backend API
```

**Êï¥‰∏™ËøáÁ®ãÂ§ßÁ∫¶ÈúÄË¶Å 10-15 ÂàÜÈíü** (È¶ñÊ¨°ÊûÑÂª∫)

---

## Á¨¨ÂõõÊ≠•: È™åËØÅÈÉ®ÁΩ≤ÁªìÊûú

### 4.1 Ê£ÄÊü•ÊúçÂä°Áä∂ÊÄÅ

ËÑöÊú¨ÊâßË°åÂÆåÊàêÂêéÔºå‰ºöËá™Âä®ÊòæÁ§∫:

```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                    üéâ ÈÉ®ÁΩ≤ÂÆåÊàêÔºÅ                                   ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

üìã ÈÉ®ÁΩ≤‰ø°ÊÅØÊëòË¶Å
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
  ÊúçÂä°Âô®IP:      xxx.xxx.xxx.xxx
  Â∫îÁî®ÁõÆÂΩï:      /opt/mr-game-ops
  ÈÖçÁΩÆÊñá‰ª∂:      /opt/mr-game-ops/.env.prod

üåê ËÆøÈóÆÂú∞ÂùÄ
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
  APIÂÅ•Â∫∑Ê£ÄÊü•:   http://xxx.xxx.xxx.xxx:8000/health
  APIÊñáÊ°£:       http://xxx.xxx.xxx.xxx:8000/docs
  GrafanaÁõëÊéß:   http://xxx.xxx.xxx.xxx:3001
  Prometheus:    http://xxx.xxx.xxx.xxx:9090
```

### 4.2 ÊµãËØïAPIËÆøÈóÆ

**Âú®ÊúçÂä°Âô®‰∏äÊµãËØï**:

```bash
curl http://localhost:8000/health
# ÊúüÊúõËøîÂõû: {"status":"healthy"}
```

**Âú®ÊµèËßàÂô®‰∏≠ÊµãËØï**:

ËÆøÈóÆ: `http://‰Ω†ÁöÑÊúçÂä°Âô®IP:8000/health`

Â¶ÇÊûúÁúãÂà∞ `{"status":"healthy"}`ÔºåËØ¥ÊòéÈÉ®ÁΩ≤ÊàêÂäü! üéâ

### 4.3 Êü•ÁúãAPIÊñáÊ°£

ËÆøÈóÆ: `http://‰Ω†ÁöÑÊúçÂä°Âô®IP:8000/docs`

ÂèØ‰ª•ÁúãÂà∞ÂÆåÊï¥ÁöÑAPIÊñáÊ°£ÂíåÂú®Á∫øÊµãËØïÁïåÈù¢„ÄÇ

---

## Á¨¨‰∫îÊ≠•: ÂàùÂßãÂåñÁ≥ªÁªü

### 5.1 ÂàùÂßãÂåñÊï∞ÊçÆÂ∫ì (Â¶ÇÊûúÈúÄË¶Å)

```bash
# ËøõÂÖ•backendÂÆπÂô®
docker exec -it mr_game_ops_backend_prod bash

# ËøêË°åÂàùÂßãÂåñËÑöÊú¨
python init_database.py

# ÈÄÄÂá∫ÂÆπÂô®
exit
```

### 5.2 ÂàõÂª∫ÁÆ°ÁêÜÂëòË¥¶Êà∑

```bash
# ËøõÂÖ•backendÂÆπÂô®
docker exec -it mr_game_ops_backend_prod bash

# ËøêË°åÂàõÂª∫ÁÆ°ÁêÜÂëòËÑöÊú¨
python create_admin_simple_v2.py

# ÊåâÊèêÁ§∫ËæìÂÖ•ÁÆ°ÁêÜÂëò‰ø°ÊÅØ
# ÈÄÄÂá∫ÂÆπÂô®
exit
```

### 5.3 ÈÖçÁΩÆÈò≤ÁÅ´Â¢ô (ÈáçË¶Å!)

**Áîü‰∫ßÁéØÂ¢ÉÂøÖÈ°ªÈÖçÁΩÆÈò≤ÁÅ´Â¢ô**:

```bash
# Ubuntu/Debian
ufw allow 80/tcp
ufw allow 443/tcp
ufw allow 22/tcp   # SSHÔºåÊ≥®ÊÑè‰∏çË¶ÅÈîÅÊ≠ªËá™Â∑±

# CentOS/RHEL
firewall-cmd --permanent --add-port=80/tcp
firewall-cmd --permanent --add-port=443/tcp
firewall-cmd --reload
```

**Ê≥®ÊÑè**:
- Á´ØÂè£8000 (ÂêéÁ´ØAPI) Âª∫ËÆÆ‰ªÖÂÜÖÁΩëËÆøÈóÆ
- Áîü‰∫ßÁéØÂ¢ÉÂ∫î‰ΩøÁî®NginxÂèçÂêë‰ª£ÁêÜÔºåÂè™ÂºÄÊîæ80/443

---

## üîß Â∏∏Áî®ÁÆ°ÁêÜÂëΩ‰ª§

### Êü•ÁúãÊúçÂä°Áä∂ÊÄÅ

```bash
cd /opt/mr-game-ops
docker compose -f docker-compose.prod.yml ps
```

### Êü•ÁúãÊó•Âøó

```bash
# Êü•ÁúãÊâÄÊúâÊó•Âøó
docker compose -f /opt/mr-game-ops/docker-compose.prod.yml logs -f

# Êü•ÁúãÂêéÁ´ØÊó•Âøó
docker logs mr_game_ops_backend_prod -f

# Êü•ÁúãÊúÄËøë50Ë°åÊó•Âøó
docker logs mr_game_ops_backend_prod --tail=50
```

### ÈáçÂêØÊúçÂä°

```bash
# ÈáçÂêØÊâÄÊúâÊúçÂä°
docker compose -f /opt/mr-game-ops/docker-compose.prod.yml restart

# ÈáçÂêØÂçï‰∏™ÊúçÂä°
docker compose -f /opt/mr-game-ops/docker-compose.prod.yml restart backend
```

### ÂÅúÊ≠¢ÊúçÂä°

```bash
# ÂÅúÊ≠¢ÊâÄÊúâÊúçÂä°
docker compose -f /opt/mr-game-ops/docker-compose.prod.yml down

# ÂÅúÊ≠¢Âπ∂Âà†Èô§Êï∞ÊçÆÂç∑ (Ë∞®ÊÖé!)
docker compose -f /opt/mr-game-ops/docker-compose.prod.yml down -v
```

### ËøõÂÖ•ÂÆπÂô®Ë∞ÉËØï

```bash
# ËøõÂÖ•ÂêéÁ´ØÂÆπÂô®
docker exec -it mr_game_ops_backend_prod bash

# ËøõÂÖ•Êï∞ÊçÆÂ∫ìÂÆπÂô®
docker exec -it mr_game_ops_db_prod bash

# Âú®ÂÆπÂô®ÂÜÖÊâßË°åpsql
docker exec -it mr_game_ops_db_prod psql -U mr_admin_prod -d mr_game_ops_prod
```

---

## ‚ùì Â∏∏ËßÅÈóÆÈ¢ò

### Q1: ËÑöÊú¨ÊèêÁ§∫"DockerÊú™ÂÆâË£Ö"

**Ëß£ÂÜ≥**:

```bash
# Ubuntu/Debian
curl -fsSL https://get.docker.com | bash

# ÂêØÂä®Docker
systemctl start docker
systemctl enable docker
```

### Q2: BackendÊûÑÂª∫Â§±Ë¥•ÔºåÊèêÁ§∫pipÂÆâË£ÖÈîôËØØ

**ÂéüÂõ†**: requirements.txt‰∏≠Êüê‰∏™ÂåÖÂÆâË£ÖÂ§±Ë¥•

**Ëß£ÂÜ≥**:

1. Êü•ÁúãËØ¶ÁªÜÈîôËØØÊó•Âøó
2. ÂèØËÉΩÊòØÁΩëÁªúÈóÆÈ¢òÔºåËÑöÊú¨Â∑≤ÈÖçÁΩÆÈòøÈáå‰∫ëÈïúÂÉèÊ∫ê
3. Ê£ÄÊü•ÊòØÂê¶ÊúâÊãºÂÜôÈîôËØØÊàñÁâàÊú¨ÂÜ≤Á™Å

### Q3: ÊúçÂä°ÂêØÂä®ÂêéÊó†Ê≥ïËÆøÈóÆ

**Ê£ÄÊü•È°π**:

```bash
# 1. Ê£ÄÊü•ÂÆπÂô®ÊòØÂê¶ËøêË°å
docker ps

# 2. Ê£ÄÊü•Èò≤ÁÅ´Â¢ô
ufw status

# 3. Ê£ÄÊü•Á´ØÂè£ÁõëÂê¨
netstat -tlnp | grep 8000

# 4. Êü•ÁúãbackendÊó•Âøó
docker logs mr_game_ops_backend_prod --tail=100
```

### Q4: Â¶Ç‰Ωï‰øÆÊîπÈÖçÁΩÆ

**Ê≠•È™§**:

```bash
# 1. ÁºñËæëÈÖçÁΩÆÊñá‰ª∂
vi /opt/mr-game-ops/.env.prod

# 2. ÈáçÊñ∞ÈÉ®ÁΩ≤
cd /opt/mr-game-ops
docker compose -f docker-compose.prod.yml down
docker compose -f docker-compose.prod.yml up -d
```

### Q5: Â¶Ç‰ΩïÂ§á‰ªΩÊï∞ÊçÆ

**Êï∞ÊçÆÂ∫ìÂ§á‰ªΩ**:

```bash
# ÂàõÂª∫Â§á‰ªΩ
docker exec mr_game_ops_db_prod pg_dump -U mr_admin_prod mr_game_ops_prod > backup.sql

# ÊÅ¢Â§çÂ§á‰ªΩ
docker exec -i mr_game_ops_db_prod psql -U mr_admin_prod mr_game_ops_prod < backup.sql
```

### Q6: Â¶Ç‰ΩïÊõ¥Êñ∞‰ª£Á†Å

**Ê≠•È™§**:

1. Âú®Windows‰∏ä‰º†Êñ∞‰ª£Á†ÅÂà∞ÊúçÂä°Âô®
2. ÈáçÊñ∞ËøêË°å‰∏ÄÈîÆÈÉ®ÁΩ≤ËÑöÊú¨

```bash
bash /root/mr-game-ops-upload/deploy/‰∏ÄÈîÆÈÉ®ÁΩ≤ËÑöÊú¨-ÊúçÂä°Âô®Á´Ø.sh
```

ËÑöÊú¨‰ºöËá™Âä®:
- ÂÅúÊ≠¢ÊóßÊúçÂä°
- Â§çÂà∂Êñ∞‰ª£Á†Å
- ÈáçÊñ∞ÊûÑÂª∫
- ÂêØÂä®ÊúçÂä°

---

## üìÅ Êñá‰ª∂ÁªìÊûÑËØ¥Êòé

### WindowsÁ´Ø

```
C:\liangz77\...\mr_gunking_user_system_spec\
‚îú‚îÄ‚îÄ backend/                              # ÂêéÁ´Ø‰ª£Á†Å
‚îú‚îÄ‚îÄ frontend/                             # ÂâçÁ´Ø‰ª£Á†Å (ÂèØÈÄâ)
‚îî‚îÄ‚îÄ deploy/
    ‚îú‚îÄ‚îÄ download-images-simple.bat        # [Ê≠•È™§1] ‰∏ãËΩΩÈïúÂÉè
    ‚îú‚îÄ‚îÄ windows-‰∏ä‰º†Âà∞ÊúçÂä°Âô®.bat          # [Ê≠•È™§2] ‰∏ä‰º†Êñá‰ª∂
    ‚îú‚îÄ‚îÄ ‰∏ÄÈîÆÈÉ®ÁΩ≤ËÑöÊú¨-ÊúçÂä°Âô®Á´Ø.sh          # [Ê≠•È™§3] ÊúçÂä°Âô®ÈÉ®ÁΩ≤
    ‚îú‚îÄ‚îÄ docker-compose.prod.yml           # Áîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆ
    ‚îî‚îÄ‚îÄ .env.prod                         # ÁéØÂ¢ÉÈÖçÁΩÆ

C:\docker-images\                         # ÈïúÂÉèÂ≠òÂÇ®‰ΩçÁΩÆ
‚îú‚îÄ‚îÄ python-3.11-slim.tar
‚îú‚îÄ‚îÄ postgres-14-alpine.tar
‚îî‚îÄ‚îÄ redis-7-alpine.tar
```

### ÊúçÂä°Âô®Á´Ø (ÈÉ®ÁΩ≤Âêé)

```
/root/
‚îú‚îÄ‚îÄ docker-images/                        # ‰∏ä‰º†ÁöÑÈïúÂÉè
‚îÇ   ‚îú‚îÄ‚îÄ python-3.11-slim.tar
‚îÇ   ‚îú‚îÄ‚îÄ postgres-14-alpine.tar
‚îÇ   ‚îî‚îÄ‚îÄ redis-7-alpine.tar
‚îî‚îÄ‚îÄ mr-game-ops-upload/                   # ‰∏ä‰º†ÁöÑÈ°πÁõÆÊñá‰ª∂
    ‚îú‚îÄ‚îÄ backend/
    ‚îú‚îÄ‚îÄ frontend/
    ‚îî‚îÄ‚îÄ deploy/

/opt/mr-game-ops/                         # Â∫îÁî®ËøêË°åÁõÆÂΩï
‚îú‚îÄ‚îÄ backend/                              # ÂêéÁ´Ø‰ª£Á†Å
‚îú‚îÄ‚îÄ frontend/                             # ÂâçÁ´Ø‰ª£Á†Å
‚îú‚îÄ‚îÄ config/                               # ÈÖçÁΩÆÊñá‰ª∂
‚îÇ   ‚îú‚îÄ‚îÄ nginx/
‚îÇ   ‚îú‚îÄ‚îÄ prometheus/
‚îÇ   ‚îî‚îÄ‚îÄ grafana/
‚îú‚îÄ‚îÄ data/                                 # Êï∞ÊçÆÊåÅ‰πÖÂåñ
‚îÇ   ‚îú‚îÄ‚îÄ postgres/                         # Êï∞ÊçÆÂ∫ìÊï∞ÊçÆ
‚îÇ   ‚îú‚îÄ‚îÄ redis/                            # RedisÊï∞ÊçÆ
‚îÇ   ‚îú‚îÄ‚îÄ uploads/                          # ‰∏ä‰º†Êñá‰ª∂
‚îÇ   ‚îî‚îÄ‚îÄ invoices/                         # ÂèëÁ•®Êñá‰ª∂
‚îú‚îÄ‚îÄ logs/                                 # Êó•ÂøóÊñá‰ª∂
‚îÇ   ‚îú‚îÄ‚îÄ nginx/
‚îÇ   ‚îî‚îÄ‚îÄ backend/
‚îú‚îÄ‚îÄ backups/                              # Â§á‰ªΩÁõÆÂΩï
‚îú‚îÄ‚îÄ docker-compose.prod.yml               # DockerÁºñÊéíÊñá‰ª∂
‚îî‚îÄ‚îÄ .env.prod                             # ÁéØÂ¢ÉÈÖçÁΩÆ
```

---

## üéØ ‰ºòÂäøÂØπÊØî

### ‰º†ÁªüÊñπÂºè vs ‰∏ÄÈîÆÈÉ®ÁΩ≤

| È°πÁõÆ | ‰º†ÁªüÊñπÂºè | ‰∏ÄÈîÆÈÉ®ÁΩ≤ËÑöÊú¨ |
|-----|---------|------------|
| **Ê≠•È™§Êï∞** | 15+ Ê≠• | 3 Ê≠• |
| **ÈúÄË¶ÅÊâãÂä®Êìç‰Ωú** | ÂæàÂ§ö | ÊûÅÂ∞ë |
| **ÂÆπÊòìÂá∫Èîô** | ÊòØ | Âê¶ |
| **ÈúÄË¶ÅËÆ∞ÂøÜÂëΩ‰ª§** | ÊòØ | Âê¶ |
| **Êñá‰ª∂Â§çÂà∂** | ÊâãÂä® | Ëá™Âä® |
| **ÁõÆÂΩïÂàõÂª∫** | ÊâãÂä® | Ëá™Âä® |
| **ÈÖçÁΩÆÈ™åËØÅ** | ÊâãÂä® | Ëá™Âä® |
| **ÂÅ•Â∫∑Ê£ÄÊü•** | ÊâãÂä® | Ëá™Âä® |
| **ÈÄÇÂêàÊñ∞Êâã** | Âê¶ | ÊòØ |
| **ÈÉ®ÁΩ≤Êó∂Èó¥** | 30-60ÂàÜÈíü | 10-15ÂàÜÈíü |

---

## üÜò Ëé∑ÂèñÂ∏ÆÂä©

Â¶ÇÊûúÈÅáÂà∞‰ªª‰ΩïÈóÆÈ¢ò:

1. **Êü•ÁúãÊó•Âøó**
   ```bash
   docker compose -f /opt/mr-game-ops/docker-compose.prod.yml logs
   ```

2. **Ê£ÄÊü•ÊúçÂä°Áä∂ÊÄÅ**
   ```bash
   docker compose -f /opt/mr-game-ops/docker-compose.prod.yml ps
   ```

3. **Êü•ÁúãËÑöÊú¨ËæìÂá∫**
   - ËÑöÊú¨‰ºöÊòæÁ§∫ÊØè‰∏ÄÊ≠•ÁöÑËØ¶ÁªÜ‰ø°ÊÅØ
   - Âá∫ÈîôÊó∂‰ºöÁªôÂá∫ÂÖ∑‰ΩìÁöÑÈîôËØØÂéüÂõ†ÂíåËß£ÂÜ≥Âª∫ËÆÆ

4. **ÈáçÊñ∞ÈÉ®ÁΩ≤**
   - Â§ßÂ§öÊï∞ÈóÆÈ¢òÂèØ‰ª•ÈÄöËøáÈáçÊñ∞ËøêË°åÈÉ®ÁΩ≤ËÑöÊú¨Ëß£ÂÜ≥
   - ËÑöÊú¨ÊòØÂπÇÁ≠âÁöÑÔºåÂèØ‰ª•ÂÆâÂÖ®Âú∞Â§öÊ¨°ËøêË°å

---

## ‚ö†Ô∏è Áîü‰∫ßÁéØÂ¢ÉÊ≥®ÊÑè‰∫ãÈ°π

1. **‰øÆÊîπÈªòËÆ§ÂØÜÁ†Å**
   - ÁºñËæë `/opt/mr-game-ops/.env.prod`
   - ‰øÆÊîπÊâÄÊúâÂåÖÂê´ "CHANGE" ÁöÑÈÖçÁΩÆ
   - ÈáçÊñ∞ÈÉ®ÁΩ≤ÊúçÂä°

2. **ÈÖçÁΩÆHTTPS**
   - Áî≥ËØ∑SSLËØÅ‰π¶
   - ÈÖçÁΩÆNginxÂèçÂêë‰ª£ÁêÜ
   - ÂêØÁî®HTTPSËÆøÈóÆ

3. **ÈÖçÁΩÆÈò≤ÁÅ´Â¢ô**
   - Âè™ÂºÄÊîæÂøÖË¶ÅÁ´ØÂè£ (80, 443, 22)
   - ÈôêÂà∂Êï∞ÊçÆÂ∫ìÁ´ØÂè£ËÆøÈóÆ

4. **ÂêØÁî®ÁõëÊéß**
   - ËÆøÈóÆGrafanaÈÖçÁΩÆÁõëÊéßÈù¢Êùø
   - ËÆæÁΩÆÂëäË≠¶ËßÑÂàô

5. **ÂÆöÊúüÂ§á‰ªΩ**
   - ÈÖçÁΩÆËá™Âä®Â§á‰ªΩËÑöÊú¨
   - ÊµãËØïÂ§á‰ªΩÊÅ¢Â§çÊµÅÁ®ã

---

**Á•ùÈÉ®ÁΩ≤È°∫Âà©ÔºÅ** üöÄ

Â¶ÇÊúâÈóÆÈ¢òÔºåËØ∑Êü•ÁúãÊó•ÂøóÊàñËÅîÁ≥ªÊäÄÊúØÊîØÊåÅ„ÄÇ
