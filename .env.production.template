# =============================================================================
# 生产环境配置模板 (.env.production.template)
# =============================================================================
# ⚠️ 重要说明：
# 1. 复制此文件为 .env.production: cp .env.production.template .env.production
# 2. 修改所有标记为 [必须修改] 的值
# 3. 确保 .env.production 已添加到 .gitignore（不要提交到版本控制）
# 4. 使用强随机密钥（可使用: openssl rand -hex 32）
# =============================================================================

# ==================== Database Configuration ====================
# [必须修改] 数据库配置 - 使用强密码
DB_USER=mr_admin
DB_PASSWORD=CHANGE_THIS_TO_STRONG_PASSWORD_32CHARS
DB_NAME=mr_game_ops
DB_HOST=postgres
DB_PORT=5432
DATABASE_URL=postgresql+asyncpg://mr_admin:CHANGE_THIS_TO_STRONG_PASSWORD_32CHARS@postgres:5432/mr_game_ops
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_ECHO=false

# ==================== Redis Configuration ====================
# [必须修改] Redis配置 - 使用强密码
REDIS_PASSWORD=CHANGE_THIS_TO_STRONG_REDIS_PASSWORD
REDIS_URL=redis://:CHANGE_THIS_TO_STRONG_REDIS_PASSWORD@redis:6379/0
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# ==================== Security Configuration ====================
# [必须修改] 安全配置 - 使用强随机密钥
# 生成方法: openssl rand -hex 32
SECRET_KEY=CHANGE_THIS_TO_RANDOM_SECRET_KEY_64_CHARS
JWT_SECRET_KEY=CHANGE_THIS_TO_RANDOM_JWT_SECRET_KEY_64_CHARS
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
ENCRYPTION_KEY=CHANGE_THIS_TO_32_BYTES_ENCRYPTION_KEY

# ==================== Application Configuration ====================
APP_NAME=MR游戏运营管理系统
APP_VERSION=1.0.0
DEBUG=false
ENVIRONMENT=production
LOG_LEVEL=WARNING

# ==================== API Configuration ====================
API_V1_PREFIX=/api/v1
# [根据实际域名修改] CORS配置
BACKEND_CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CORS_ALLOW_CREDENTIALS=true
MAX_REQUEST_SIZE=10485760

# ==================== Server Configuration ====================
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=false

# ==================== Rate Limiting Configuration ====================
# 生产环境更严格的限流设置
RATE_LIMIT_PER_MINUTE=30
RATE_LIMIT_IP_PER_MINUTE=100

# ==================== Logging Configuration ====================
LOG_LEVEL=WARNING
LOG_FORMAT=json
LOG_FILE_PATH=logs/app.log

# ==================== Payment Platform Configuration ====================
# [根据实际情况配置] 支付平台配置
# 微信支付
WECHAT_PAY_APP_ID=
WECHAT_PAY_MCH_ID=
WECHAT_PAY_API_KEY=

# 支付宝
ALIPAY_APP_ID=
ALIPAY_PRIVATE_KEY=
ALIPAY_PUBLIC_KEY=

# ==================== File Storage Configuration ====================
UPLOAD_DIR=uploads
INVOICE_DIR=invoices
MAX_FILE_SIZE=5242880

# ==================== Business Configuration ====================
BALANCE_THRESHOLD=100.00
SESSION_TIMEOUT_MINUTES=30
PAYMENT_TIMEOUT_MINUTES=5

# ==================== Frontend Configuration ====================
# [根据实际域名修改] 前端API地址
VITE_API_BASE_URL=https://yourdomain.com/api/v1
FRONTEND_PORT=80

# ==================== Build Configuration ====================
BUILD_DATE=$(date -u +'%Y-%m-%dT%H:%M:%SZ')
VERSION=1.0.0

# ==================== Monitoring & Health Check ====================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health

# =============================================================================
# 配置检查清单:
# 
# [ ] DB_PASSWORD - 已修改为强密码（至少32字符，包含大小写字母、数字、特殊字符）
# [ ] REDIS_PASSWORD - 已修改为强密码
# [ ] SECRET_KEY - 已使用 openssl rand -hex 32 生成
# [ ] JWT_SECRET_KEY - 已使用 openssl rand -hex 32 生成
# [ ] ENCRYPTION_KEY - 已生成32字节密钥
# [ ] BACKEND_CORS_ORIGINS - 已配置为实际域名
# [ ] VITE_API_BASE_URL - 已配置为实际API地址
# [ ] 支付平台配置 - 已填写（如需要）
# [ ] .env.production 已添加到 .gitignore
# 
# 密钥生成示例命令:
# openssl rand -hex 32  # 生成64字符十六进制密钥
# openssl rand -base64 32  # 生成32字节base64密钥
# python3 -c "import secrets; print(secrets.token_urlsafe(32))"
# =============================================================================
